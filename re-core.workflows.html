<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>re-core.workflows documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="highlight/solarized-light.css" /><script type="text/javascript" src="highlight/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a> with <a href="https://github.com/xsc/codox-theme-rdash">RDash UI</a> theme</h2><h1><a href="index.html"><span class="project-title"><span class="project-name">re-core</span> <span class="project-version">0.6.0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>aws</span></div></div></li><li class="depth-2 branch"><a href="aws.common.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>common</span></div></a></li><li class="depth-2 branch"><a href="aws.model.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>model</span></div></a></li><li class="depth-2 branch"><a href="aws.networking.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>networking</span></div></a></li><li class="depth-2 branch"><a href="aws.provider.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>provider</span></div></a></li><li class="depth-2 branch"><a href="aws.validations.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>validations</span></div></a></li><li class="depth-2"><a href="aws.volumes.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>volumes</span></div></a></li><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree" style="top: -207px;"><span class="top" style="height: 216px;"></span><span class="bottom"></span></span><span>components</span></div></div></li><li class="depth-2"><a href="components.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>digital</span></div></div></li><li class="depth-2 branch"><a href="digital.provider.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>provider</span></div></a></li><li class="depth-2"><a href="digital.validations.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>validations</span></div></a></li><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>es</span></div></div></li><li class="depth-2 branch"><a href="es.common.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>common</span></div></a></li><li class="depth-2 branch"><a href="es.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="es.history.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>history</span></div></a></li><li class="depth-2 branch"><a href="es.jobs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>jobs</span></div></a></li><li class="depth-2 branch"><a href="es.systems.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>systems</span></div></a></li><li class="depth-2"><a href="es.types.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>types</span></div></a></li><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree" style="top: -207px;"><span class="top" style="height: 216px;"></span><span class="bottom"></span></span><span>hypervisors</span></div></div></li><li class="depth-2"><a href="hypervisors.networking.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>networking</span></div></a></li><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>kvm</span></div></div></li><li class="depth-2 branch"><a href="kvm.clone.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clone</span></div></a></li><li class="depth-2 branch"><a href="kvm.common.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>common</span></div></a></li><li class="depth-2 branch"><a href="kvm.networking.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>networking</span></div></a></li><li class="depth-2 branch"><a href="kvm.provider.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>provider</span></div></a></li><li class="depth-2 branch"><a href="kvm.spice.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>spice</span></div></a></li><li class="depth-2 branch"><a href="kvm.validations.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>validations</span></div></a></li><li class="depth-2"><a href="kvm.volumes.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>volumes</span></div></a></li><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree" style="top: -238px;"><span class="top" style="height: 247px;"></span><span class="bottom"></span></span><span>physical</span></div></div></li><li class="depth-2 branch"><a href="physical.provider.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>provider</span></div></a></li><li class="depth-2 branch"><a href="physical.validations.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>validations</span></div></a></li><li class="depth-2"><a href="physical.wol.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>wol</span></div></a></li><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>re-core</span></div></div></li><li class="depth-2 branch"><a href="re-core.common.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>common</span></div></a></li><li class="depth-2 branch"><a href="re-core.config.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>config</span></div></a></li><li class="depth-2 branch"><a href="re-core.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="re-core.launch.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>launch</span></div></a></li><li class="depth-2 branch"><a href="re-core.log.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>log</span></div></a></li><li class="depth-2 branch"><a href="re-core.model.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>model</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>persistency</span></div></div></li><li class="depth-3"><a href="re-core.persistency.common.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>common</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>presets</span></div></div></li><li class="depth-3 branch"><a href="re-core.presets.aws.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>aws</span></div></a></li><li class="depth-3 branch"><a href="re-core.presets.common.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>common</span></div></a></li><li class="depth-3 branch"><a href="re-core.presets.kvm.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>kvm</span></div></a></li><li class="depth-3"><a href="re-core.presets.type.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>type</span></div></a></li><li class="depth-2 branch"><a href="re-core.provider.html"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>provider</span></div></a></li><li class="depth-2 branch"><a href="re-core.queue.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>queue</span></div></a></li><li class="depth-2"><a href="re-core.repl.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>repl</span></div></a></li><li class="depth-3 branch"><a href="re-core.repl.base.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>base</span></div></a></li><li class="depth-3 branch"><a href="re-core.repl.fixtures.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fixtures</span></div></a></li><li class="depth-3 branch"><a href="re-core.repl.systems.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>systems</span></div></a></li><li class="depth-3"><a href="re-core.repl.types.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>types</span></div></a></li><li class="depth-2 branch"><a href="re-core.schedule.html"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>schedule</span></div></a></li><li class="depth-2 branch"><a href="re-core.workers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>workers</span></div></a></li><li class="depth-2 current"><a href="re-core.workflows.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>workflows</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="re-core.workflows.html#var-clear"><div class="inner"><span>clear</span></div></a></li><li class="depth-1"><a href="re-core.workflows.html#var-clone"><div class="inner"><span>clone</span></div></a></li><li class="depth-1"><a href="re-core.workflows.html#var-create"><div class="inner"><span>create</span></div></a></li><li class="depth-1"><a href="re-core.workflows.html#var-destroy"><div class="inner"><span>destroy</span></div></a></li><li class="depth-1"><a href="re-core.workflows.html#var-not-running.21"><div class="inner"><span>not-running!</span></div></a></li><li class="depth-1"><a href="re-core.workflows.html#var-provision"><div class="inner"><span>provision</span></div></a></li><li class="depth-1"><a href="re-core.workflows.html#var-reload"><div class="inner"><span>reload</span></div></a></li><li class="depth-1"><a href="re-core.workflows.html#var-running.21"><div class="inner"><span>running!</span></div></a></li><li class="depth-1"><a href="re-core.workflows.html#var-stage"><div class="inner"><span>stage</span></div></a></li><li class="depth-1"><a href="re-core.workflows.html#var-start"><div class="inner"><span>start</span></div></a></li><li class="depth-1"><a href="re-core.workflows.html#var-stop"><div class="inner"><span>stop</span></div></a></li><li class="depth-1"><a href="re-core.workflows.html#var-updated-system"><div class="inner"><span>updated-system</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">re-core.workflows</h1><div class="doc"><pre class="plaintext">Main workflows
</pre></div><div class="public anchor" id="var-clear"><h3>clear</h3><div class="usage"><code>(clear {:keys [system-id], :as spec})</code></div><div class="doc"><pre class="plaintext">Clear system model (no machine destruction)
</pre></div><div class="src-link"><a href="https://github.com/re-ops/re-core/blob/master/src/re_core/workflows.clj#L104">view source</a></div></div><div class="public anchor" id="var-clone"><h3>clone</h3><div class="usage"><code>(clone {:keys [system-id], :as spec})</code></div><div class="doc"><pre class="plaintext">Clones a system model and creates it
</pre></div><div class="src-link"><a href="https://github.com/re-ops/re-core/blob/master/src/re_core/workflows.clj#L95">view source</a></div></div><div class="public anchor" id="var-create"><h3>create</h3><div class="usage"><code>(create {:keys [machine], :as spec})</code></div><div class="doc"><pre class="plaintext">Sets up a clean machine from scratch
</pre></div><div class="src-link"><a href="https://github.com/re-ops/re-core/blob/master/src/re_core/workflows.clj#L73">view source</a></div></div><div class="public anchor" id="var-destroy"><h3>destroy</h3><div class="usage"><code>(destroy {:keys [system-id machine], :as spec})</code></div><div class="doc"><pre class="plaintext">Deletes a system
</pre></div><div class="src-link"><a href="https://github.com/re-ops/re-core/blob/master/src/re_core/workflows.clj#L85">view source</a></div></div><div class="public anchor" id="var-not-running.21"><h3>not-running!</h3><div class="usage"><code>(not-running! vm)</code></div><div class="doc"><pre class="plaintext">Assert that a vm is not running
</pre></div><div class="src-link"><a href="https://github.com/re-ops/re-core/blob/master/src/re_core/workflows.clj#L36">view source</a></div></div><div class="public anchor" id="var-provision"><h3>provision</h3><div class="usage"><code>(provision systems t)</code></div><div class="doc"><pre class="plaintext">provision a group of systems
</pre></div><div class="src-link"><a href="https://github.com/re-ops/re-core/blob/master/src/re_core/workflows.clj#L110">view source</a></div></div><div class="public anchor" id="var-reload"><h3>reload</h3><div class="usage"><code>(reload {:keys [machine system-id], :as spec})</code></div><div class="doc"><pre class="plaintext">Reloads a machine if one already exists, will distroy the old one
</pre></div><div class="src-link"><a href="https://github.com/re-ops/re-core/blob/master/src/re_core/workflows.clj#L42">view source</a></div></div><div class="public anchor" id="var-running.21"><h3>running!</h3><div class="usage"><code>(running! vm)</code></div><div class="doc"><pre class="plaintext">Asserts that a VM is running
</pre></div><div class="src-link"><a href="https://github.com/re-ops/re-core/blob/master/src/re_core/workflows.clj#L30">view source</a></div></div><div class="public anchor" id="var-stage"><h3>stage</h3><div class="usage"><code>(stage type {:keys [system-id], :as spec})</code></div><div class="doc"><pre class="plaintext">create and provision
</pre></div><div class="src-link"><a href="https://github.com/re-ops/re-core/blob/master/src/re_core/workflows.clj#L118">view source</a></div></div><div class="public anchor" id="var-start"><h3>start</h3><div class="usage"><code>(start {:keys [machine], :as spec})</code></div><div class="doc"><pre class="plaintext">Start a vm instance
</pre></div><div class="src-link"><a href="https://github.com/re-ops/re-core/blob/master/src/re_core/workflows.clj#L64">view source</a></div></div><div class="public anchor" id="var-stop"><h3>stop</h3><div class="usage"><code>(stop {:keys [machine], :as spec})</code></div><div class="doc"><pre class="plaintext">Stops a vm instance
</pre></div><div class="src-link"><a href="https://github.com/re-ops/re-core/blob/master/src/re_core/workflows.clj#L56">view source</a></div></div><div class="public anchor" id="var-updated-system"><h3>updated-system</h3><div class="usage"><code>(updated-system system-id)</code></div><div class="doc"><pre class="plaintext">grabs system and associates system id
</pre></div><div class="src-link"><a href="https://github.com/re-ops/re-core/blob/master/src/re_core/workflows.clj#L24">view source</a></div></div></div></body></html>